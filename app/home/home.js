/************************************************************ Developer: Minhas Kamal (minhaskamal024@gmail.com)       ** Website: https://github.com/MinhasKamal/DownGit          ** License: GNU General Public License version-3            ************************************************************/'use strict';var homeModule = angular.module('homeModule', [	'ngRoute',]);homeModule.config([	'$routeProvider',    	function ($routeProvider) {		$routeProvider			.when('/home', {                templateUrl: 'app/home/home.html',                controller: [				'$scope',				'$routeParams',				'$location',				'toastr',				'homeService',								function($scope, $routeParams, $location, toastr, homeService){					$scope.downUrl="";					$scope.url="";					var templateUrl = "github.com";										if($routeParams.url){						$scope.url=$routeParams.url;					}										if($scope.url.match(templateUrl)){						homeService.downloadZippedFiles($scope.url);					}else if($scope.url!=""){						toastr.warning("Invalid URL",{iconClass: 'toast-down'});					}										$scope.createDownLink = function(){						if($scope.url.match(templateUrl)){							$scope.downUrl = "https://minhaskamal.github.io/DownGit/#/home?url="+$scope.url;						}else if($scope.url!=""){							toastr.warning("Invalid URL",{iconClass: 'toast-down'});						}					};														}],            });    }]);homeModule.factory('homeService', [	'$http',	    function ($http) {    	return {			downloadZippedFiles: function(url){				var zip = new JSZip();								zip.file("folder1/file2", "content2");				zip.file("file3", "content3");				this.getFileContent().then(function (response) {					var fileContent = response.data;					zip.file("folder1/file1.txt", fileContent);										zip.generateAsync({type:"blob"}).then(function(content) {						saveAs(content, "downgit.zip");					});				});			},		    		getFileContent: function () {    			return $http.get("https://raw.githubusercontent.com/MinhasKamal/Intellectron/master/README.md");    		},    	};    }]);